name: "grafana"
arch: "amd64"
platform: "linux"
version: "1.0.1"
section: "default"
priority: "extra"
replaces:
- grafana
provides:
- grafana-server
- grafana-cli
depends:
- adduser
- libfontconfig1
maintainer: "<contact@grafana.com>"
description: |
  Grafana
vendor: "Grafana"
homepage: "https://grafana.com"
license: "Apache 2"
contents:
  - src: ./conf
    dst: /usr/share/grafana/conf
  - src: ./plugins-bundled
    dst: /usr/share/grafana/plugins-bundled
  - src: ./bin
    dst: /usr/share/grafana/bin
  - src: ./scripts
    dst: /usr/share/grafana/scripts
  - src: ./public
    dst: /usr/share/grafana/public
  - src: ./bin/grafana-server
    dst: /usr/sbin/grafana-server
  - src: ./bin/grafana-cli
    dst: /usr/sbin/grafana-cli
  - src: ./conf/grafana.ini
    dst: /etc/grafana/grafana.ini
    type: config
  - src: ./packaging/deb/init.d/grafana-server
    dst: /etc/init.d/grafana-server
    type: config
  - src: ./packaging/deb/default/grafana-server
    dst: /etc/default/grafana-server
    type: config
  - src: ./packaging/deb/systemd/grafana-server.service
    dst: /usr/lib/systemd/system/grafana-server.service
    type: config
overrides:
  rpm:
    scripts:
      preinstall: ./scripts/preinstall.sh
      postremove: ./scripts/postremove.sh
  deb:
    scripts:
      postinstall: ./packaging/deb/control/postinst
